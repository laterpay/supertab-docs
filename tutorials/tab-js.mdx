---
title: 'Tab.JS'
description: 'Lorem ipsum dolor sit amet'
---

## Introduction
Tab.JS is a JavaScript library designed to facilitate the creation of a purchase widget that supports single purchases. It provides a simple and effective way to integrate payment functionalities into web applications, enhancing user experience and streamlining the purchasing process.

## Installation
You can install Tab.JS via npm:

```bash
npm install tab.js
```

Or include it directly in your HTML:

```html
<script src="https://cdn.example.com/tab.js"></script>
```

## Usage
To use the Tab.JS library, you need to create an instance of the `PurchaseWidget`. Here’s a basic example:

### Creating a Purchase Widget Instance

```javascript
import { PurchaseWidget } from 'tab.js';

const purchaseWidget = new PurchaseWidget({
    clientId: 'client.xyz',
    merchantLogoUrl: 'https://www.resumegpt.ai/logo.svg',
    merchantName: 'ResumeGPT.ai',
    language: 'en-US', // optional
    selectedOfferingId: 'offering.123', // optional
    onError: () => { alert("Purchase error!"); }, // optional
});

// Initialize the widget
purchaseWidget.initialize();
```

### Setting Up the Purchase Button

To set up a purchase button that triggers the purchase process, you can use the following code:

```javascript
const purchaseButtonElement = document.getElementById("purchase-button");

const onClickHandler = async () => {
    try {
        const { itemAdded, priorEntitlement } = await purchaseWidget.startPurchase({
            offeringId: "offering.456" // optional
        });
        if (priorEntitlement) {
            alert("User has a prior entitlement!");
        } else if (itemAdded) {
            alert("Purchase completed!");
        } else {
            alert("Purchase canceled.");
        }
    } catch (e) {
        alert("An error occurred.");
    }
};

purchaseButtonElement.addEventListener("click", onClickHandler);

// Optional clean-up later:
purchaseButtonElement.removeEventListener("click", onClickHandler);
purchaseWidget.destroy();
```

## On-page API

### High-Level API (Public)

#### createPurchaseButtonExperience
This function initializes a purchase button experience.

**HTML:**
```html
<div id="purchase-button-container"></div>
```

**JavaScript:**
```javascript
import { createPurchaseButtonExperience } from "https://js.supertab.co/v1/experiences.js";

(async () => {
    const { destroy } = await createPurchaseButtonExperience({
        containerElement: document.getElementById("purchase-button-container"),
        clientId: "client.xyz",
        merchantLogoUrl: "https://www.resumegpt.ai/logo.svg",
        merchantName: "ResumeGPT.ai",
        offeringId: "offering.abc",
        onPurchaseCompleted: () => { alert("Purchase completed!"); },
        onPriorEntitlement: () => { alert("User has a prior entitlement!"); },
        onPurchaseCanceled: () => { alert("Purchase canceled!"); },
        onError: () => { alert("Purchase error!"); },
    });

    // Optional clean-up later:
    destroy();
})();
```

**Type Definitions:**
```typescript
type createPurchaseButtonExperience = (params: {
    containerElement: HTMLElement;
    clientId: string;
    merchantLogoUrl: string;
    merchantName: string;
    offeringId?: string;
    language?: string;
    uiConfig?: {
        colors: {
            background: string;
            text: string;
        };
    };
    onPurchaseCompleted?: () => void;
    onPriorEntitlement?: () => void;
    onPurchaseCanceled?: () => void;
    onError?: () => void;
}) => Promise<{ destroy: () => void }>;
```

#### createPaygateExperience
This function initializes a paygate experience.

**JavaScript:**
```javascript
import { createPaygateExperience } from "https://js.supertab.co/v1/experiences.js";

(async () => {
    const { show } = await createPaygateExperience({
        clientId: "client.xyz",
        merchantName: "ResumeGPT.ai",
        merchantLogoUrl: "https://www.resumegpt.ai/logo.svg",
        onPurchaseCompleted: () => { console.log("Paygate purchase completed!"); },
        onPurchaseCanceled: () => { console.log("Paygate canceled!"); },
        onPriorEntitlement: () => { console.log("User has prior entitlement."); },
        onError: (error) => { console.error("Paygate error!", error); },
    });

    const showPaygateButtonElement = document.getElementById("toggle-paygate-button");
    showPaygateButtonElement?.addEventListener("click", async () => {
        console.log("Showing Paygate");
        show();
    });
})();
```

### API Reference
- **PurchaseWidget Class**: This class is used to create and manage the purchase widget instance.
- **Methods**:
  - `initialize()`: Initializes the purchase widget.
  - `startPurchase({ offeringId })`: Starts the purchase process for a specific offering.

## Examples
Here’s an example of how to handle a purchase:

```javascript
async function handlePurchase(offeringId) {
    const result = await purchaseWidget.startPurchase({ offeringId });
    if (result.purchaseCompleted) {
        console.log('Purchase successful!', result.priorEntitlement);
    } else {
        console.log('Purchase failed or was canceled.');
    }
}
```

## Troubleshooting
- **Issue**: The widget does not initialize.
  - **Solution**: Ensure that the `clientId` and other parameters are correctly set.

- **Issue**: Payment fails.
  - **Solution**: Check the network connection and ensure that the payment method is valid.



## License
Tab.JS is licensed under the MIT License.

### Additional Resources
- [GitHub Repository](https://github.com/laterpay/supertab-js)